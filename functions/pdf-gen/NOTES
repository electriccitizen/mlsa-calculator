 // console.log(exec('pdftk --version', context.done));
  //console.log(process.env.PATH + '--' + process.env.LAMBDA_TASK_ROOT + '--' + process.env.LD_LIBRARY_PATH)
  //

  // pdfFiller.fillForm( sourcePDF, data)
  //   .then((outputStream) => {
  //     // use the outputStream here;
  //     // will be instance of stream.Readable
  //     console.log(outputStream)
  //   }).catch((err) => {
  //   console.log(err);
  // });
   // const blob = new Blob(
        //   [outputStream],
        //   {type: 'application/pdf'});
        //console.log(outputStream)
  //      const foo = Buffer.from(JSON.stringify(outputStream), 'binary')
  // console.log(foo)
  //       const objJsonStr = JSON.stringify(json); const objJsonB64 = new Buffer(objJsonStr).toString("base64");
  //


        // fetch("/.netlify/functions/pdf-gen/")
        //   .then(
        //     res =>
        //       new Promise((resolve, reject) => {
        //         const dest = 'foo';
        //         res.body.pipe(dest);
        //         res.body.on("end", () => resolve("it worked"));
        //         dest.on("error", reject);
        //       })
        //   )
        //   .then(x => console.log(x));
  const fook = "JVBEReyJvdXRwdXRTdHJlYW0iOnsiY29ubmVjdGluZyI6ZmFsc2UsIl9oYWRFcnJvciI6ZmFsc2UsIl9wYXJlbnQiOm51bGwsIl9ob3N0IjpudWxsLCJfcmVhZGFibGVTdGF0ZSI6eyJvYmplY3RNb2RlIjpmYWxzZSwiaGlnaFdhdGVyTWFyayI6MTYzODQsImJ1ZmZlciI6eyJoZWFkIjp7ImRhdGEiOnsidHlwZSI6IkJ1ZmZlciIsImRhdGEiOlszNyw4MCw2OCw3MCw0NSw0OSw0Niw1NCwxMCwzNywyMjYsMjI3LDIwNywyMTEsMTAsNDksMzIsNDgsMzIsMTExLDk4LDEwNiwzMiwxMCw2MCw2MCwxMCw0Nyw3Nyw5NywxMTYsMTE0LDEwNSwxMjAsMzIsOTEsNDksMzIsNDgsMzIsNDgsMzIsNDksMzIsNDgsMzIsNDgsOTMsMTAsNDcsODMsMTE3LDk4LDExNiwxMjEsMTEyLDEwMSwzMiw0Nyw3MCwxMTEsMTE0LDEwOSwxMCw0Nyw3MCwxMDUsMTA4LDExNiwxMDEsMTE0LDMyLDQ3LDcwLDEwOCw5NywxMTYsMTAxLDY4LDEwMSw5OSwxMTEsMTAwLDEwMSwxMCw0Nyw3NiwxMDEsMTEwLDEwMywxMTYsMTA0LDMyLDU2LDUzLDEwLDQ3LDgyLDEwMSwxMTUsMTExLDExNywxMTQsOTksMTAxLDExNSwzMiwxMCw2MCw2MCwxMCw0Nyw3MCwxMTEsMTEwLDExNiwzMiwxMCw2MCw2MCwxMCw0Nyw3MiwxMDEsMTA4LDExOCwzMiw1MCwzMiw0OCwzMiw4MiwxMCw2Miw2MiwxMCw0Nyw4MCwxMTQsMTExLDk5LDgzLDEwMSwxMTYsMzIsOTEsNDcsODAsNjgsNzAsMzIsNDcsODQsMTAxLDEyMCwxMTYsMzIsNDcsNzMsMTA5LDk3LDEwMywxMDEsNjYsMzIsNDcsNzMsMTA5LDk3LDEwMywxMDEsNjcsMzIsNDcsNzMsMTA5LDk3LDEwMywxMDEsNzMsOTMsMTAsNjIsNjIsMTAsNDcsNzAsMTExLDExNCwxMDksODQsMTIxLDExMiwxMDEsMzIsNDksMTAsNDcsNjYsNjYsMTExLDEyMCwzMiw5MSw0OCwzMiw0OCwzMiw1MCw1MCw0OSw0Niw1MSw1MywzMiw0OSw1Nyw0Niw1Miw1Miw5MywxMCw0Nyw4NCwxMjEsMTEyLDEwMSwzMiw0Nyw4OCw3OSw5OCwxMDYsMTAxLDk5LDExNiwxMCw2Miw2MiwxMCwxMTUsMTE2LDExNCwxMDEsOTcsMTA5LDEwLDEyMCwxNTYsMjExLDE1LDE2OSw4MCwxMTIsMjQyLDExNyw4Niw0MCw4NCw0OCwwLDY2LDM1LDM1LDY3LDYxLDk5LDgzLDUsNjcsNzUsNjEsMTksMTksMTMzLDE2Miw4NCwxMzMsMTEyLDEzMyw2MCwxNjAsMTA0LDE4NiwxMzAsODMsMTM2LDEzMCwxOTAsNzEsMTA2LDc4LDE1MywxMzAsMTYxLDEyOSw2Niw3MiwxNTQsMTMwLDE0NSwxMzAsMTUzLDE1OCwxNjEsMTc3LDY2LDcyLDEzOCwxMzAsMTM0LDg3LDEyNiw3MCwxNTgsMTAyLDcyLDE1MCwxMzAsMTA3LDEzNiw2NiwxNjAsMTMwLDQzLDIwOCwzMiwwLDQsMTUxLDE5LDkxLDEwLDEwMSwxMTAsMTAwLDExNSwxMTYsMTE0LDEwMSw5NywxMDksMzIsMTAsMTAxLDExMCwxMDAsMTExLDk4LDEwNiwzMiwxMCw1MSwzMiw0OCwzMiwxMTEsOTgsMTA2LDMyLDEwLDYwLDYwLDEwLDQ3LDc3LDk3LDExNiwxMTQsMTA1LDEyMCwzMiw5MSw0OSwzMiw0OCwzMiw0OCwzMiw0OSwzMiw0OCwzMiw0OCw5MywxMCw0Nyw4MywxMTcsOTgsMTE2LDEyMSwxMTIsMTAxLDMyLDQ3LDcwLDExMSwxMTQsMTA5LDEwLDQ3LDcwLDEwNSwxMDgsMTE2LDEwMSwxMTQsMzIsNDcsNzAsMTA4LDk3LDExNiwxMDEsNjgsMTAxLDk5LDExMSwxMDAsMTAxLDEwLDQ3LDc2LDEwMSwxMTAsMTAzLDExNiwxMDQsMzIsNTYsNTcsMTAsNDcsODIsMTAxLDExNSwxMTEsMTE3LDExNCw5OSwxMDEsMTE1LDMyLDEwLDYwLDYwLDEwLDQ3LDcwLDExMSwxMTAsMTE2LDMyLDEwLDYwLDYwLDEwLDQ3LDcyLDEwMSwxMDgsMTE4LDMyLDUwLDMyLDQ4LDMyLDgyLDEwLDYyLDYyLDEwLDQ3LDgwLDExNCwxMTEsOTksODMsMTAxLDExNiwzMiw5MSw0Nyw4MCw2OCw3MCwzMiw0Nyw4NCwxMDEsMTIwLDExNiwzMiw0Nyw3MywxMDksOTcsMTAzLDEwMSw2NiwzMiw0Nyw3MywxMDksOTcsMTAzLDEwMSw2NywzMiw0Nyw3MywxMDksOTcsMTAzLDEwMSw3Myw5M119LCJuZXh0IjpudWxsfSwidGFpbCI6eyJkYXRhIjp7InR5cGUiOiJCdWZmZXIiLCJkYXRhIjpbMzcsODAsNjgsNzAsNDUsNDksNDYsNTQsMTAsMzcsMjI2LDIyNywyMDcsMjExLDEwLDQ5LDMyLDQ4LDMyLDExMSw5OCwxMDYsMzIsMTAsNjAsNjAsMTAsNDcsNzcsOTcsMTE2LDExNCwxMDUsMTIwLDMyLDkxLDQ5LDMyLDQ4LDMyLDQ4LDMyLDQ5LDMyLDQ4LDMyLDQ4LDkzLDEwLDQ3LDgzLDExNyw5OCwxMTYsMTIxLDExMiwxMDEsMzIsNDcsNzAsMTExLDExNCwxMDksMTAsNDcsNzAsMTA1LDEwOCwxMTYsMTAxLDExNCwzMiw0Nyw3MCwxMDgsOTcsMTE2LDEwMSw2OCwxMDEsOTksMTExLDEwMCwxMDEsMTAsNDcsNzYsMTAxLDExMCwxMDMsMTE2LDEwNCwzMiw1Niw1MywxMCw0Nyw4MiwxMDEsMTE1LDExMSwxMTcsMTE0LDk5LDEwMSwxMTUsMzIsMTAsNjAsNjAsMTAsNDcsNzAsMTExLDExMCwxMTYsMzIsMTAsNjAsNjAsMTAsNDcsNzIsMTAxLDEwOCwxMTgsMzIsNTAsMzIsNDgsMzIsODIsMTAsNjIsNjIsMTAsNDcsODAsMTE0LDExMSw5OSw4MywxMDEsMTE2LDMyLDkxLDQ3LDgwLDY4LDcwLDMyLDQ3LDg0LDEwMSwxMjAsMTE2LDMyLDQ3LDczLDEwOSw5NywxMDMsMTAxLDY2LDMyLDQ3LDczLDEwOSw5NywxMDMsMTAxLDY3LDMyLDQ3LDczLDEwOSw5NywxMDMsMTAxLDczLDkzLDEwLDYyLDYyLDEwLDQ3LDcwLDExMSwxMTQsMTA5LDg0LDEyMSwxMTIsMTAxLDMyLDQ5LDEwLDQ3LDY2LDY2LDExMSwxMjAsMzIsOTEsNDgsMzIsNDgsMzIsNTAsNTAsNDksNDYsNTEsNTMsMzIsNDksNTcsNDYsNTIsNTIsOTMsMTAsNDcsODQsMTIxLDExMiwxMDEsMzIsNDcsODgsNzksOTgsMTA2LDEwMSw5OSwxMTYsMTAsNjIsNjIsMTAsMTE1LDExNiwxMTQsMTAxLDk3LDEwOSwxMCwxMjAsMTU2LDIxMSwxNSwxNjksODAsMTEyLDI0MiwxMTcsODYsNDAsODQsNDgsMCw2NiwzNSwzNSw2Nyw2MSw5OSw4Myw1LDY3LDc1LDYxLDE5LDE5LDEzMywxNjIsODQsMTMzLDExMiwxMzMsNjAsMTYwLDEwNCwxODYsMTMwLDgzLDEzNiwxMzAsMTkwLDcxLDEwNiw3OCwxNTMsMTMwLDE2MSwxMjksNjYsNzIsMTU0LDEzMCwxNDUsMTMwLDE1MywxNTgsMTYxLDE3Nyw2Niw3MiwxMzgsMTMwLDEzNCw4NywxMjYsNzAsMTU4LDEwMiw3MiwxNTAsMTMwLDEwNywxMzYsNjYsMTYwLDEzMCw0MywyMDgsMzIsMCw0LDE1MSwxOSw5MSwxMCwxMDEsMTEwLDEwMCwxMTUsMTE2LDExNCwxMDEsOTcsMTA5LDMyLDEwLDEwMSwxMTAsMTAwLDExMSw5OCwxMDYsMzIsMTAsNTEsMzIsNDgsMzIsMTExLDk4LDEwNiwzMiwxMCw2MCw2MCwxMCw0Nyw3Nyw5NywxMTYsMTE0LDEwNSwxMjAsMzIsOTEsNDksMzIsNDgsMzIsNDgsMzIsNDksMzIsNDgsMzIsNDgsOTMsMTAsNDcsODMsMTE3LDk4LDExNiwxMjEsMTEyLDEwMSwzMiw0Nyw3MCwxMTEsMTE0LDEwOSwxMCw0Nyw3MCwxMDUsMTA4LDExNiwxMDEsMTE0LDMyLDQ3LDcwLDEwOCw5NywxMTYsMTAxLDY4LDEwMSw5OSwxMTEsMTAwLDEwMSwxMCw0Nyw3NiwxMDEsMTEwLDEwMywxMTYsMTA0LDMyLDU2LDU3LDEwLDQ3LDgyLDEwMSwxMTUsMTExLDExNywxMTQsOTksMTAxLDExNSwzMiwxMCw2MCw2MCwxMCw0Nyw3MCwxMTEsMTEwLDExNiwzMiwxMCw2MCw2MCwxMCw0Nyw3MiwxMDEsMTA4LDExOCwzMiw1MCwzMiw0OCwzMiw4MiwxMCw2Miw2MiwxMCw0Nyw4MCwxMTQsMTExLDk5LDgzLDEwMSwxMTYsMzIsOTEsNDcsODAsNjgsNzAsMzIsNDcsODQsMTAxLDEyMCwxMTYsMzIsNDcsNzMsMTA5LDk3LDEwMywxMDEsNjYsMzIsNDcsNzMsMTA5LDk3LDEwMywxMDEsNjcsMzIsNDcsNzMsMTA5LDk3LDEwMywxMDEsNzMsOTNdfSwibmV4dCI6bnVsbH0sImxlbmd0aCI6MX0sImxlbmd0aCI6NTE4LCJwaXBlcyI6bnVsbCwicGlwZXNDb3VudCI6MCwiZmxvd2luZyI6ZmFsc2UsImVuZGVkIjpmYWxzZSwiZW5kRW1pdHRlZCI6ZmFsc2UsInJlYWRpbmciOnRydWUsInN5bmMiOmZhbHNlLCJuZWVkUmVhZGFibGUiOnRydWUsImVtaXR0ZWRSZWFkYWJsZSI6ZmFsc2UsInJlYWRhYmxlTGlzdGVuaW5nIjpmYWxzZSwicmVzdW1lU2NoZWR1bGVkIjpmYWxzZSwicGF1c2VkIjp0cnVlLCJlbWl0Q2xvc2UiOmZhbHNlLCJhdXRvRGVzdHJveSI6ZmFsc2UsImRlc3Ryb3llZCI6ZmFsc2UsImRlZmF1bHRFbmNvZGluZyI6InV0ZjgiLCJhd2FpdERyYWluIjowLCJyZWFkaW5nTW9yZSI6ZmFsc2UsImRlY29kZXIiOm51bGwsImVuY29kaW5nIjpudWxsfSwicmVhZGFibGUiOnRydWUsIl9ldmVudHMiOnt9LCJfZXZlbnRzQ291bnQiOjIsIl93cml0YWJsZVN0YXRlIjp7Im9iamVjdE1vZGUiOmZhbHNlLCJoaWdoV2F0ZXJNYXJrIjoxNjM4NCwiZmluYWxDYWxsZWQiOmZhbHNlLCJuZWVkRHJhaW4iOmZhbHNlLCJlbmRpbmciOmZhbHNlLCJlbmRlZCI6ZmFsc2UsImZpbmlzaGVkIjpmYWxzZSwiZGVzdHJveWVkIjpmYWxzZSwiZGVjb2RlU3RyaW5ncyI6ZmFsc2UsImRlZmF1bHRFbmNvZGluZyI6InV0ZjgiLCJsZW5ndGgiOjAsIndyaXRpbmciOmZhbHNlLCJjb3JrZWQiOjAsInN5bmMiOnRydWUsImJ1ZmZlclByb2Nlc3NpbmciOmZhbHNlLCJ3cml0ZWNiIjpudWxsLCJ3cml0ZWxlbiI6MCwiYnVmZmVyZWRSZXF1ZXN0IjpudWxsLCJsYXN0QnVmZmVyZWRSZXF1ZXN0IjpudWxsLCJwZW5kaW5nY2IiOjAsInByZWZpbmlzaGVkIjpmYWxzZSwiZXJyb3JFbWl0dGVkIjpmYWxzZSwiZW1pdENsb3NlIjpmYWxzZSwiYXV0b0Rlc3Ryb3kiOmZhbHNlLCJidWZmZXJlZFJlcXVlc3RDb3VudCI6MCwiY29ya2VkUmVxdWVzdHNGcmVlIjp7Im5leHQiOm51bGwsImVudHJ5IjpudWxsfX0sIndyaXRhYmxlIjpmYWxzZSwiYWxsb3dIYWxmT3BlbiI6ZmFsc2UsIl9zb2NrbmFtZSI6bnVsbCwiX3BlbmRpbmdEYXRhIjpudWxsLCJfcGVuZGluZ0VuY29kaW5nIjoiIiwic2VydmVyIjpudWxsLCJfc2VydmVyIjpudWxsfX0="
 //const base64 = "JVBERi0xLjIgCjkgMCBvYmoKPDwKPj4Kc3RyZWFtCkJULyA5IFRmKFRlc3QpJyBFVAplbmRzdHJlYW0KZW5kb2JqCjQgMCBvYmoKPDwKL1R5cGUgL1BhZ2UKL1BhcmVudCA1IDAgUgovQ29udGVudHMgOSAwIFIKPj4KZW5kb2JqCjUgMCBvYmoKPDwKL0tpZHMgWzQgMCBSIF0KL0NvdW50IDEKL1R5cGUgL1BhZ2VzCi9NZWRpYUJveCBbIDAgMCA5OSA5IF0KPj4KZW5kb2JqCjMgMCBvYmoKPDwKL1BhZ2VzIDUgMCBSCi9UeXBlIC9DYXRhbG9nCj4+CmVuZG9iagp0cmFpbGVyCjw8Ci9Sb290IDMgMCBSCj4+CiUlRU9G"
const base64 = "JVBERi0xLjMNCiXi48/TDQoNCjEgMCBvYmoNCjw8DQovVHlwZSAvQ2F0YWxvZw0KL091dGxpbmVzIDIgMCBSDQovUGFnZXMgMyAwIFINCj4+DQplbmRvYmoNCg0KMiAwIG9iag0KPDwNCi9UeXBlIC9PdXRsaW5lcw0KL0NvdW50IDANCj4+DQplbmRvYmoNCg0KMyAwIG9iag0KPDwNCi9UeXBlIC9QYWdlcw0KL0NvdW50IDINCi9LaWRzIFsgNCAwIFIgNiAwIFIgXSANCj4+DQplbmRvYmoNCg0KNCAwIG9iag0KPDwNCi9UeXBlIC9QYWdlDQovUGFyZW50IDMgMCBSDQovUmVzb3VyY2VzIDw8DQovRm9udCA8PA0KL0YxIDkgMCBSIA0KPj4NCi9Qcm9jU2V0IDggMCBSDQo+Pg0KL01lZGlhQm94IFswIDAgNjEyLjAwMDAgNzkyLjAwMDBdDQovQ29udGVudHMgNSAwIFINCj4+DQplbmRvYmoNCg0KNSAwIG9iag0KPDwgL0xlbmd0aCAxMDc0ID4+DQpzdHJlYW0NCjIgSg0KQlQNCjAgMCAwIHJnDQovRjEgMDAyNyBUZg0KNTcuMzc1MCA3MjIuMjgwMCBUZA0KKCBBIFNpbXBsZSBQREYgRmlsZSApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY4OC42MDgwIFRkDQooIFRoaXMgaXMgYSBzbWFsbCBkZW1vbnN0cmF0aW9uIC5wZGYgZmlsZSAtICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNjY0LjcwNDAgVGQNCigganVzdCBmb3IgdXNlIGluIHRoZSBWaXJ0dWFsIE1lY2hhbmljcyB0dXRvcmlhbHMuIE1vcmUgdGV4dC4gQW5kIG1vcmUgKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA2NTIuNzUyMCBUZA0KKCB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDYyOC44NDgwIFRkDQooIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNjE2Ljg5NjAgVGQNCiggdGV4dC4gQW5kIG1vcmUgdGV4dC4gQm9yaW5nLCB6enp6ei4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNjA0Ljk0NDAgVGQNCiggbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDU5Mi45OTIwIFRkDQooIEFuZCBtb3JlIHRleHQuIEFuZCBtb3JlIHRleHQuICkgVGoNCkVUDQpCVA0KL0YxIDAwMTAgVGYNCjY5LjI1MDAgNTY5LjA4ODAgVGQNCiggQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA1NTcuMTM2MCBUZA0KKCB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBFdmVuIG1vcmUuIENvbnRpbnVlZCBvbiBwYWdlIDIgLi4uKSBUag0KRVQNCmVuZHN0cmVhbQ0KZW5kb2JqDQoNCjYgMCBvYmoNCjw8DQovVHlwZSAvUGFnZQ0KL1BhcmVudCAzIDAgUg0KL1Jlc291cmNlcyA8PA0KL0ZvbnQgPDwNCi9GMSA5IDAgUiANCj4+DQovUHJvY1NldCA4IDAgUg0KPj4NCi9NZWRpYUJveCBbMCAwIDYxMi4wMDAwIDc5Mi4wMDAwXQ0KL0NvbnRlbnRzIDcgMCBSDQo+Pg0KZW5kb2JqDQoNCjcgMCBvYmoNCjw8IC9MZW5ndGggNjc2ID4+DQpzdHJlYW0NCjIgSg0KQlQNCjAgMCAwIHJnDQovRjEgMDAyNyBUZg0KNTcuMzc1MCA3MjIuMjgwMCBUZA0KKCBTaW1wbGUgUERGIEZpbGUgMiApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY4OC42MDgwIFRkDQooIC4uLmNvbnRpbnVlZCBmcm9tIHBhZ2UgMS4gWWV0IG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA2NzYuNjU2MCBUZA0KKCBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSB0ZXh0LiBBbmQgbW9yZSApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY2NC43MDQwIFRkDQooIHRleHQuIE9oLCBob3cgYm9yaW5nIHR5cGluZyB0aGlzIHN0dWZmLiBCdXQgbm90IGFzIGJvcmluZyBhcyB3YXRjaGluZyApIFRqDQpFVA0KQlQNCi9GMSAwMDEwIFRmDQo2OS4yNTAwIDY1Mi43NTIwIFRkDQooIHBhaW50IGRyeS4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gQW5kIG1vcmUgdGV4dC4gKSBUag0KRVQNCkJUDQovRjEgMDAxMCBUZg0KNjkuMjUwMCA2NDAuODAwMCBUZA0KKCBCb3JpbmcuICBNb3JlLCBhIGxpdHRsZSBtb3JlIHRleHQuIFRoZSBlbmQsIGFuZCBqdXN0IGFzIHdlbGwuICkgVGoNCkVUDQplbmRzdHJlYW0NCmVuZG9iag0KDQo4IDAgb2JqDQpbL1BERiAvVGV4dF0NCmVuZG9iag0KDQo5IDAgb2JqDQo8PA0KL1R5cGUgL0ZvbnQNCi9TdWJ0eXBlIC9UeXBlMQ0KL05hbWUgL0YxDQovQmFzZUZvbnQgL0hlbHZldGljYQ0KL0VuY29kaW5nIC9XaW5BbnNpRW5jb2RpbmcNCj4+DQplbmRvYmoNCg0KMTAgMCBvYmoNCjw8DQovQ3JlYXRvciAoUmF2ZSBcKGh0dHA6Ly93d3cubmV2cm9uYS5jb20vcmF2ZVwpKQ0KL1Byb2R1Y2VyIChOZXZyb25hIERlc2lnbnMpDQovQ3JlYXRpb25EYXRlIChEOjIwMDYwMzAxMDcyODI2KQ0KPj4NCmVuZG9iag0KDQp4cmVmDQowIDExDQowMDAwMDAwMDAwIDY1NTM1IGYNCjAwMDAwMDAwMTkgMDAwMDAgbg0KMDAwMDAwMDA5MyAwMDAwMCBuDQowMDAwMDAwMTQ3IDAwMDAwIG4NCjAwMDAwMDAyMjIgMDAwMDAgbg0KMDAwMDAwMDM5MCAwMDAwMCBuDQowMDAwMDAxNTIyIDAwMDAwIG4NCjAwMDAwMDE2OTAgMDAwMDAgbg0KMDAwMDAwMjQyMyAwMDAwMCBuDQowMDAwMDAyNDU2IDAwMDAwIG4NCjAwMDAwMDI1NzQgMDAwMDAgbg0KDQp0cmFpbGVyDQo8PA0KL1NpemUgMTENCi9Sb290IDEgMCBSDQovSW5mbyAxMCAwIFINCj4+DQoNCnN0YXJ0eHJlZg0KMjcxNA0KJSVFT0YNCg=="
  //console.log(typeof doc) //should be an Object

  // const file = new Blob([{doc}], {type: 'application/pdf'});
 // const fileUrl = URL.createObjectURL(file);

  //var file = fs.createWriteStream(doc);

//  const foo = doc.pipe(new Base64Encode({prefix:`data:data:application/pdf;base64,`})).pipe(doc)


//const report = "data:application/pdf;base64," + doc

 // let buff = new Buffer(doc);
 //  let base64data = buff.toString('base64');
 //  console.log(buff)
//.then(res=>setDoc(res.body.pipe(new Base64Encode({prefix:`data:application/pdf;base64,`})).pipe(res)))
//
  //
  //
  //
  //
  //     //
  //     // let buff = new Buffer(res);
  //     // let base64data = buff.toString('base64');
  //     fetch('/.netlify/functions/pdf-gen')
  //     res
  //       .json()
  //       //.then(res=>res.body.pipe(new Base64Encode({prefix:`data:application/pdf;base64,`})).pipe(res))
  //       .then(res => res.blob())
  //       .then(console.log(res))
  //   }
